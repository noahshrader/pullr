<!DOCTYPE html>
<html>
    <head>
        <title>Test widget</title>
        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script type="text/javascript" src="/app/statistic/api"></script>
        <link rel="stylesheet" id="bootstrapstyle-css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css?ver=1.0" media="all">
    </head>
    <body >

        <div class='container' ng-controller='PullrCampaignCtrl'>
            <div id='watch_window' class='row' ng-show='showStreamWindow'>
                <h4>{{selectedChannel.display_name}}</h4>
                <a href='{{selectedCampaign.donationFormUrl}}' target='_blank'>Donate</a><br/>
                <a href='{{selectedCampaign.campaignPageUrl}}' target='_blank'>Campaign page</a>
                <div id="stream" class="holder">
                    <a class="togglechat icon-chatbubble"></a>
                    <div id="featured">
                        <div class="featuredstreamcontainer">
                            <div class="featuredstream">
                                <object type="application/x-shockwave-flash"
                                        height="378"
                                        width="620"
                                        id="live_embed_player_flash"
                                        data="{{embedPlayerUrl}}"
                                        bgcolor="#000000">
                                    <param name="allowFullScreen" value="true" />
                                    <param name="allowScriptAccess" value="always" />
                                    <param name="allowNetworking" value="all" />
                                    <param name="movie" value="http://www.twitch.tv/widgets/live_embed_player.swf" />
                                    <param name="flashvars" value="{{hostname}}" />
                                </object>
                            </div>
                        </div>
                        <div class="featuredchat">
                            <iframe frameborder="0" scrolling="no" src="{{chatUrl | trusted }}" height="500" width="350"></iframe>
                        </div>
                    </div>
                </div>
            </div>


            <div class='row'>
                <div class='col-md-4' ng-repeat='campaign in campaigns' style='border:1px solid black;'>
                    <!-- campaign information -->
                    <p class='campaign_name'>{{campaign.name}}</p>
                    <p class='charity_name'>{{campaign.charityName}}</p>
                    <p class='campaign_page_link'><a href='{{campaign.campaignPageUrl}}' target='_blank'>Campaign page</a></p><br/>
                    <p class='donation_link'><a href='{{campaign.donationFormUrl}}' target='_blank'>Donation form</a></p>

                    <!-- channel information -->
                    <div class='single_channel' ng-show='campaign.layoutType == LAYOUT_TYPE_SINGLE' ng-init='channel = campaign.channels'>
                        <p class='channel_name'>{{channel.display_name}}</p>
                        <img ng-src='{{channel.logo}}'/>
                        <p class='channel_view'>View count: {{channel.views}}</p>
                        <a class='btn btn-primary' ng-click='watchChannel(campaign, channel)'>Watch</a>
                    </div>

                    <div class='multi_channel' ng-show='campaign.layoutType == LAYOUT_TYPE_MULTI && campaign.channels.length > 0'>
                        <div class='row'>
                            <div ng-repeat='channel in campaign.channels' class='col-md-3' ng-mouseenter='showChannelInfo(channel)' ng-mouseleave='hideChannelInfo(channel)'>
                                <div class='thumbnail'>
                                    <img width="40" src='{{channel.logo}}'/>
                                    <div ng-show='channel.displayInfo'>
                                        <p class='channel_name'>{{channel.display_name}}</p>
                                        <a class='btn btn-primary' ng-click='watchChannel(campaign,channel)'>Watch</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class='team_channel' ng-show='campaign.layoutType == LAYOUT_TYPE_TEAM'>
                        <div class='row'>
                            <div ng-repeat='channel in campaign.channels' class='col-md-3' ng-mouseenter='showChannelInfo(channel)' ng-mouseleave='hideChannelInfo(channel)'>
                                <div class='thumbnail'>
                                    <img width="40" src='{{channel.image.size300}}'/>
                                    <div ng-show='channel.displayInfo'>
                                        <p class='channel_name'>{{channel.display_name}}</p>
                                        <a class='btn btn-primary' ng-click='watchChannel(campaign,channel)'>Watch</a>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </body>
</html>